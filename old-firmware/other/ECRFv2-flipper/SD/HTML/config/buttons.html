<html>
<head>
  <title>Configure buttons</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../style.css">
  <script src="../lib.js"></script>
  <script>
    function modifyForm() {
      let displayDiv = document.getElementById("rawOptions")
      if (document.getElementById("teslacheck").checked)
        displayDiv.setAttribute("hidden", "hidden")
      else
        displayDiv.removeAttribute("hidden")

    }
  </script>
</head>
<body>
  <nav id='menu'>
    <input type='checkbox' id='responsive-menu' onclick='updatemenu()'><label></label>
    <ul>
      <li><a href='/'>Home</a></li>
      <li><a class='dropdown-arrow'>Config</a>
        <ul class='sub-menus'>
          <li><a href='../config/buttons.html'>Buttons</a></li>
          <li><a href='../config/rx.html'>RX</a></li>
          <li><a href='../config/wifi.html'>WiFi</a></li>
        </ul>
      </li>
      <li><a class='dropdown-arrow'>RX Log</a>
        <ul class='sub-menus'>
          <li><a href='../logview'>RX Logs</a></li>
          <li><a href='../logdelete'>Delete Logs</a></li>
          <li><a href='../logdownload'>Download Logs</a></li>
          <li><a href='../cleanspiffs'>Clean SPIFFS</a></li>
        </ul>
      </li>
      <li><a class='dropdown-arrow'>Transmit</a>
        <ul class='sub-menus'>
          <li><a href='../transmit/txraw.html'>Raw</a></li>
          <li><a href='../transmit/txbinary.html'>Binary</a></li>
          <li><a href='../transmit/txtesla.html'>Tesla charger</a></li>
        </ul>
      </li>
      <li><a class='dropdown-arrow'>TX Files</a>
        <ul class='sub-menus'>
          <li><a href='../files/manage.html'>Manage</a></li>
          <li><a href='../files/urh.html'>URH</a></li>
          <li><a href='../files/fzsub.html'>FZ Sub</a></li>
        </ul>
      </li>
      <li><a href='../jammer.html'>Jammer</a></li>
      <li><a class='dropdown-arrow'>OTA</a>
        <ul class='sub-menus'>
          <li><a href='../update'>Firmware</a></li>
          <li><a href='../updatesd.html'>SD Files</a></li>
        </ul>
      </li>
    </ul>
  </nav>
  <br>
  <br>
  <form action="/setbtn" method="post" id="config" target="iframe">
    <p>Button: </p>
    <label class="custom-select" for="styledSelect1">
      <select name="button" form="config" id="styledSelect1">
        <option value="1">Button 1</option>
        <option value="2">Button 2</option>
      </select>
    </label>
    <hr>
    <p>Frequency (MHz): </p><textarea class="css-input-text" form="config" rows="1" cols="50" name="frequency">433.92</textarea>
    <hr>
    <p><input id="teslacheck" type="checkbox" form="config" name="tesla" onclick="modifyForm()"><label>Send Tesla Charger signal</label></p>
    <hr>
    <div id="rawOptions">
      <p>Modulation: </p>
      <label class="custom-select" for="styledSelect1">
        <select name="mod" form="config" id="styledSelect1">
          <option value="0">2-FSK</option>
          <option value="2" selected>ASK/OOK</option>
        </select>
      </label>
      <hr>
      <p>Transmissions: </p>
      <label class="custom-select" for="styledSelect1">
        <select name="transmissions" form="config" id="styledSelect1">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
        </select>
      </label>
      <hr>
      <p>RAW Data: </p><textarea class="css-input-text" form="config" rows="1" cols="50" name="rawdata" placeholder="123,64,112,56,..."></textarea>
      <hr>
      <p>Deviation: </p><textarea class="css-input-text" form="config" rows="1" cols="50" name="deviation">0</textarea>
      <hr>        
    </div>
    <INPUT type="radio" name="configmodule" value="3" hidden="1" checked="checked">
    <INPUT class="button-submit" type="submit" name="set" value="Set">
    <hr>
    <INPUT class="button-submit" type="submit" name="set" value="Clear">
  </form>
  <br>
  <hr>
  <br>
  <iframe style="visibility: hidden;" src="http://" )+local_IPstr+"/setrx" name="iframe"></iframe>
</body>
</html>